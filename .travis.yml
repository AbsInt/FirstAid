sudo: required
dist: trusty
language: generic

install:
  - sudo add-apt-repository -y ppa:beineri/opt-qt57-trusty
  - sudo apt-get update
  - sudo apt-get -y install qt57tools qt57svg libfreetype6-dev libfontconfig1-dev
  - wget https://poppler.freedesktop.org/poppler-0.50.0.tar.xz
  - tar -xvJf poppler-0.50.0.tar.xz
  - source /opt/qt57/bin/qt57-env.sh
  - pushd poppler-0.50.0 && cmake -DCMAKE_INSTALL_PREFIX=/usr && make && sudo make install && popd

script:
  - source /opt/qt57/bin/qt57-env.sh
  - cmake . && make
  - git clean -xfd
